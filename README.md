#  **Задача. Рекламные площадки. (C#)**

Рекламодатели часто хотят размещать рекламу в каком-то конкретном регионе (локации), например только в московской области или только в городе Малые Васюки.

Мы хотим сделать сервис, который помог бы подбирать рекламные площадки для
конкретного региона.

Все рекламные площадки перечислены в текстовом файле вместе с локациями, в которых они действуют.

**Пример файла:**

Яндекс.Директ:/ru 

Ревдинский рабочий:/ru/svrd/revda,/ru/svrd/pervik 

Газета уральских москвичей:/ru/msk,/ru/permobl,/ru/chelobl 

Крутая реклама:/ru/svrd

Здесь Ревдинский рабочий - это рекламная площадка, a /ru/svrd/revda и /ru/svrd/pervik — локации, в которых действует Ревдинский рабочий Локации вложены, если одна содержит другую как префикс, например /ru/svrd/ekb вложена в /ru/svrd, /ru/svrd вложена в /ru, /ru/svrd/ekb вложена в /ru.
Рекламная площадка действует во всех указанных локациях перечисленных через “,”.

Чем меньше вложенность локации, тем глобальнее действует рекламная площадка.

_Пример: для локации /ru/msk подходят Газета уральских москвичей и Яндекс.Директ.
Для локации /ru/svrd подходят Яндекс.Директ и Крутая реклама, для /ru/svrd/revda
подходят Яндекс.Директ, Ревдинский рабочий и Крутая реклама, а для локации /ru
подходит только Яндекс.Директ._
#  **Что нужно сделать:**

Необходимо реализовать простой веб сервис, позволяющий хранить и возвращать
списки рекламных площадок для заданной локации в запросе.
Информация для реализации:
● Веб сервис должен содержать 2 метода REST API:
1. Метод загрузки рекламных площадок из файла (должен полностью
перезаписывать всю хранимую информацию).

2. Метод поиска списка рекламных площадок для заданной локации.
   
    ● Данные должны храниться строго в оперативной памяти (in-memory collection).

    ● Важно получать результат поиска рекламных площадок как можно быстрее.

    ● Считаем, что операция загрузки файла вызывается очень редко, а операция
поиска рекламных площадок очень часто.

    ● Программа не должна ломаться от некорректных входных данных.

#  **Сервис подбора рекламных площадок**
### **Описание проекта**
_Сервис для подбора рекламных площадок по географическим локациям с возможностью загрузки данных из файла и поиска по локации._

###  **Требования**
    ● .NET 6 или выше
    ● Postman для тестирования API
    ● Visual Studio или любой другой .NET-совместимый редактор

#  **Установка и запуск**
1. Клонирование проекта
_git clone https://github.com/s4nshi/WebAPIServices.git_
3. Установка зависимостей
_dotnet restore_
4. Запуск сервиса
_dotnet run_

После запуска в консоли появится:

    ● Адрес, по которому доступен сервис
    ● Порт
    ● Инструкция по остановке

#  **Работа с Postman**
**Загрузка данных**
**Метод**: POST
**URL**: **/api/adPlatform/upload**

1. Создайте новый запрос

2. Выберите тип Form-data

3.Добавьте файл:

    ● Ключ: **file**
    ● Тип: File
    ● Выберите файл с данными

Поиск площадок
Метод: GET
URL: **/api/adPlatform/search?location=<локация>**

Примеры запросов:

Для локации **/ru**: GET **/api/adPlatform/search?location=/ru**

Для локации **/ru/svrd**: GET **/api/adPlatform/search?location=/ru/svrd**

#  **Формат файла данных**
Файл должен содержать строки в формате:

    Название площадки:локации
    
Пример:

    Яндекс.Директ:/ru
    Ревдинский рабочий:/ru/svrd/revda,/ru/svrd/pervik
    Газета уральских москвичей:/ru/msk,/ru/permobl,/ru/chelobl
    Крутая реклама:/ru/svrd

#  **Юнит-тесты**
В проекте реализованы следующие тесты:

1.**Базовый тест загрузки и поиска**

    ● Проверяет корректность загрузки данных

    ● Проверяет поиск по разным уровням вложенности

    ● Проверяет правильность возвращаемых результатов

2.**Тест пустой локации**

    ● Проверяет обработку пустой строки

    ● Ожидаемый результат: пустой массив

3.**Тест несуществующей локации**

    ● Проверяет обработку несуществующей локации

    ● Ожидаемый результат: пустой массив

#  **Запуск тестов**
Для запуска тестов:

    dotnet test
    
Тесты проверяют:

    ● Корректность загрузки данных

    ● Правильность поиска по вложенным локациям

    ● Обработку ошибок

    ● Граничные случаи

#  **Ожидаемые ответы API**
При успешном выполнении запроса возвращается JSON-массив с названиями площадок:

    [
        "Яндекс.Директ",
        "Крутая реклама"
    ]
При ошибке возвращается статус 400 с.
